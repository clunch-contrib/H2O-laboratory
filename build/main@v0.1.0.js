!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=4)}([function(t,e,n){(function(t){
/*!
 * nefbl - æ–°ä¸€ä»£å‰ç«¯æ¡†æ¶
 *
 * git+https://github.com/nefbl/nefbl.git
 *
 * author ä½ å¥½2007 < https://hai2007.gitee.io/sweethome >
 *
 * version 0.2.3
 *
 * Copyright (c) 2021-2021 hai2007 èµ°ä¸€æ­¥ï¼Œå†èµ°ä¸€æ­¥ã€‚
 * Released under the MIT license
 *
 * Date:Mon Oct 11 2021 14:39:14 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)
 */
!function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function n(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function o(t){for(var e=1;e<arguments.length;e++){var o=null!=arguments[e]?arguments[e]:{};e%2?r(Object(o),!0).forEach((function(e){n(t,e,o[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(o)):r(Object(o)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(o,e))}))}return t}function i(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a(t,e){var n;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=function(t,e){if(t){if("string"==typeof t)return i(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?i(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){n&&(t=n);var r=0,o=function(){};return{s:o,n:function(){return r>=t.length?{done:!0}:{done:!1,value:t[r++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,u=!0,f=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return u=t.done,t},e:function(t){f=!0,a=t},f:function(){try{u||null==n.return||n.return()}finally{if(f)throw a}}}}function u(t){var n=e(t);return null!=t&&("object"===n||"function"===n)}var f=Object.prototype.toString;function c(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":f.call(t)}
/*!
   * ğŸ’¡ - å€¼ç±»å‹åˆ¤æ–­æ–¹æ³•
   * https://github.com/hai2007/tool.js/blob/master/type.js
   *
   * author hai2007 < https://hai2007.gitee.io/sweethome >
   *
   * Copyright (c) 2020-present hai2007 èµ°ä¸€æ­¥ï¼Œå†èµ°ä¸€æ­¥ã€‚
   * Released under the MIT license
   */
var l=u,s=function(t){var n=e(t);return"string"===n||"object"===n&&null!=t&&!Array.isArray(t)&&"[object String]"===c(t)},p=function(t){if(!u(t))return!1;var e=c(t);return"[object Function]"===e||"[object AsyncFunction]"===e||"[object GeneratorFunction]"===e||"[object Proxy]"===e},d=function(t){return Array.isArray(t)};var h={blankReg:new RegExp("[\\x20\\t\\r\\n\\f]"),blanksReg:/^[\x20\t\r\n\f]{0,}$/,identifier:/^[a-zA-Z_$][0-9a-zA-Z_$]{0,}$/};function _(t){var e=-1,n=null,r=!1,o="",i=["script","pre","style","code"],a=function(){return n=e++<t.length-1?t[e]:null},u=function(n){return t.substring(e,n+e>t.length?t.length:n+e)};for(a();h.blankReg.test(n)&&e<t.length-1;)a();return function(){var f=n,c={};if(null==f)return null;if(r){for(c.type="textcode",c.tagName=f;u(o.length+3)!="</"+o+">"&&e<t.length;)c.tagName+=a();return c.tagName=c.tagName.replace(/<$/,""),r=!1,c}if("\x3c!--"==u(4)){for(c.type="comment",c.tagName=f;"--\x3e"!=u(3)&&e<t.length;)c.tagName+=a();return a(),a(),a(),c.tagName=c.tagName.replace(/^<!--/,"").replace(/-$/,""),c}if("<!DOCTYPE"==u(9)){for(c.type="DOCTYPE",c.tagName=f;">"!=u(1)&&e<t.length;)c.tagName+=a();return a(),c.tagName=c.tagName.replace(/^<!DOCTYPE/,"").replace(/>$/,""),c}if("<"==f){for(var l=!1,s=null,p=null;(l||">"!=n)&&e<t.length;){var d;if(f+=a(),l)(d=u(p+1).substring(1))==s&&(l=!1);else'="'!=(d=u(2))&&"='"!=d||(s=d.replace("=",""),p=1,l=!0),'="'!=(d=u(3))&&"='"!=d||(s=d.replace("=",""),p=2,l=!0)}if(/^<\//.test(f))c.tagName=f.replace(/^<\//,"").replace(/>$/,""),c.type="endTag";else{/\/>$/.test(f)?(c.type="fullTag",f=f.replace(/\/>$/,"")):(c.type="beginTag",f=f.replace(/>$/,"")),f=f.replace(/^</,""),c.tagName="";for(var _=0;_<f.length&&" "!=f[_];_++)c.tagName+=f[_];var g=f.substring(_);h.blanksReg.test(g)?c.attrs={}:c.attrs=function(t){var e={},n=0;return t=t.trim(),function r(){for(var o="",i="";n<t.length;n++){if(h.blanksReg.test(t[n])||n==t.length-1){o+=t[n],h.blanksReg.test(o)||(e[o.trim()]=""),n+=1;break}if("="==t[n]){n+=1;var a=null,u=-1;if('"'==t.substr(n,1)||"'"==t.substr(n,1)?(a=t.substr(n,1),u=1,n+=1):'"'!=t.substr(n,2)&&"'"!=t.substr(n,2)||(a=t.substr(n,2),u=2,n+=2),null!==a)for(;n<t.length;n++){if(t.substr(n,u)==a){e[o.trim()]=i.trim(),n+=2;break}i+=t[n]}else for(;n<t.length;n++){if(h.blanksReg.test(t[n])){e[o.trim()]=i.trim(),n+=1;break}i+=t[n]}break}o+=t[n]}n<t.length&&r()}(),e}(g)}}else{for(c.type="textcode",c.tagName=n;"<"!=u(1)&&e<t.length;)c.tagName+=a();c.tagName=c.tagName.replace(/<$/,""),e-=1}return"beginTag"==c.type?i.indexOf(c.tagName.toLowerCase())>-1&&(r=!0,o=c.tagName):"endTag"==c.type&&i.indexOf(c.tagName.toLowerCase())>-1&&(r=!1),a(),c}}var g=function(t){var e=[];return t.forEach((function(n,r){if("beginTag"==n.type)e.push([r,n.tagName]);else if("endTag"==n.type)for(;e.length>0;){var o=e.pop();if(o[1]==n.tagName)break;t[o[0]].type="fullTag"}})),t};
/*!
   * ğŸ”ª - è§£æxhtmlä¸ºjsonå¯¹è±¡è¿”å›
   * https://github.com/hai2007/algorithm.js/blob/master/xhtmlToJson.js
   *
   * author hai2007 < https://hai2007.gitee.io/sweethome >
   *
   * Copyright (c) 2020-present hai2007 èµ°ä¸€æ­¥ï¼Œå†èµ°ä¸€æ­¥ã€‚
   * Released under the MIT license
   */function v(t,e){if(!s(t))throw new Error("Template must be a String!");for(var n=_(t.trim()),r=n(),o=[];null!=r;)"textcode"==r.type&&h.blanksReg.test(r.tagName)||"DOCTYPE"==r.type||("comment"==r.type?e&&o.push(r):o.push(r)),r=n();o=function(t){t=g(t);var e=0,n=[];return t.forEach((function(t){"beginTag"==t.type?n.push({type:"tag",name:t.tagName,attrs:t.attrs,__deep__:++e,__tagType__:"double"}):"endTag"==t.type?e-=1:"textcode"==t.type?n.push({type:"text",content:t.tagName,__deep__:e+1}):"comment"==t.type?n.push({type:"comment",content:t.tagName,__deep__:e+1}):n.push({type:"tag",name:t.tagName,attrs:t.attrs,__deep__:e+1,__tagType__:"single"})})),n}(o);for(var i=[null],a=0,u=0;u<o.length;u++){var f=u,c=o[u].__deep__;o[u].childNodes=[],o[u].preNode=null,o[u].nextNode=null;var l=i[i.length-1],p=i.length>1?i[i.length-2]:null;if(c==a)o[f].preNode=l,o[l].nextNode=f,o[f].parentNode=p,o[p].childNodes.push(f),i[i.length-1]=f;else if(c>a)o[f].parentNode=l,null!=l&&o[l].childNodes.push(f),i.push(f);else{var d=i[i.length-1-(a-c)],v=i[i.length-2-(a-c)];o[f].preNode=d,null!=d&&(o[d].nextNode=f),o[f].parentNode=v,null!=v&&o[v].childNodes.push(f);for(var m=0;m<a-c;m++)i.pop();i[i.length-1]=f}a=c}return o}function m(t,e){var n=document.createElement("style"),r=document.head||document.getElementsByTagName("head")[0],o=t.join("");if(e){o=(o=o.replace(/( {0,}){/g,"{")).replace(/( {0,}),/g,",");for(var i="",a=!1,u=!1,f=!1,c=0;c<o.length;c++)":"!=o[c]||a||f||u?"{"!=o[c]||a?"}"!=o[c]||a?"/"==o[c]&&"*"==o[c+1]?a=!0:"*"==o[c]&&"/"==o[c+1]?a=!1:","!=o[c]||a||u||(f||(i+="["+e+"]"),f=!1):(u=!1,f=!1):(u=!0,f||(i+="["+e+"]")):(f=!0,i+="["+e+"]"),i+=o[c];o=i}n.innerHTML=o,n.setAttribute("type","text/css"),r.appendChild(n)}var y=0;function b(t){if(/^[_$]/.test(t))throw new Error("The beginning of _ or $ is not allowedï¼š"+t)}function w(t,e,n,r){var o=e.value,i={get:function(){return o},set:function(t){o=t,r()}};Object.defineProperty(e,"value",i),t[n]=o,Object.defineProperty(t,n,i)}function x(t,e,n,r){var o=new Proxy(e.value,{get:function(t,e){return t[e]},set:function(t,e,n){var o=Reflect.set(t,e,n);return r(),o}});e.value=o,t[n]=o}var E=["+","-","*","/","%","&","|","!","?",":","[","]","(",")",">","<","="],T=["+","-","*","/","%","&","|","!","?",":",">","<","=","<=",">=","==","===","!=","!=="];function A(t,e,n){e=e.trim();var r=-1,o=null,i=function(){return o=r++<e.length-1?e[r]:null},a=function(t){return e.substring(r,t+r>e.length?e.length:t+r)};i();for(var u=[];!(r>=e.length);)if(E.indexOf(o)>-1)if(["&","|","="].indexOf(o)>-1)if(["==="].indexOf(a(3))>-1)u.push(a(3)),r+=2,i();else{if(!(["&&","||","=="].indexOf(a(2))>-1))throw new Error("Illegal expression : "+e+"\nstep='analyseExpress',index="+r);u.push(a(2)),r+=1,i()}else["!=="].indexOf(a(3))>-1?(u.push(a(3)),r+=2,i()):[">=","<=","!="].indexOf(a(2))>-1?(u.push(a(2)),r+=1,i()):(u.push(o),i());else if(['"',"'"].indexOf(o)>-1){var f="",c=o;for(i();o!=c;){if(r>=e.length)throw new Error("String unclosed error : "+e+"\nstep='analyseExpress',index="+r);f+=o,i()}u.push(f+"@string"),i()}else if(/\d/.test(o)){var l="no";f=o;for(i();r<e.length;){if(/\d/.test(o))f+=o,"error"==l&&(l="yes");else{if("."!=o||"no"!=l)break;f+=o,l="error"}i()}"error"==l&&(f+="0"),u.push(+f)}else if(["null","true"].indexOf(a(4))>-1)u.push({null:null,true:!0}[a(4)]),r+=3,i();else if(["false"].indexOf(a(5))>-1)u.push({false:!1}[a(5)]),r+=4,i();else if(["undefined"].indexOf(a(9))>-1)u.push({undefined:void 0}[a(9)]),r+=8,i();else if(h.blankReg.test(o))do{i()}while(h.blankReg.test(o)&&r<e.length);else{var p=!1;if("."==o&&(p=!0,i()),!h.identifier.test(o))throw new Error("Illegal express : "+e+"\nstep='analyseExpress',index="+r);for(var d=1;r+d<=e.length&&h.identifier.test(a(d));)d+=1;if(p)u.push("["),u.push(a(d-1)+"@string"),u.push("]");else{var _=a(d-1),g=_ in n?n[_]:t[_];u.push(s(g)?g+"@string":g)}r+=d-2,i()}for(var v=0,m=0;m<u.length;m++)["+","-"].indexOf(u[m])>-1&&(0==m||T.indexOf(u[v-1])>-1)?(u[v++]=+(u[m]+u[m+1]),m+=1):u[v++]=u[m];return u.length=v,u}var S=function(t){return"string"==typeof t?t.replace(/@string$/,""):t};function P(t){for(var e,n=0,r=0;r<t.length;r++)"!"==t[r]?t[n]=!t[++r]:t[n]=t[r],n+=1;if(1==n)return S(t[0]);for(t.length=n,n=0,r=0;r<t.length;r++)"*"==t[r]?t[n-1]=S(t[n-1])*S(t[++r]):"/"==t[r]?t[n-1]=S(t[n-1])/S(t[++r]):"%"==t[r]?t[n-1]=S(t[n-1])%S(t[++r]):t[n++]=t[r];if(1==n)return S(t[0]);for(t.length=n,n=0,r=0;r<t.length;r++)"+"==t[r]?t[n-1]="string"==typeof(e=S(t[n-1])+S(t[++r]))?e+"@string":e:"-"==t[r]?t[n-1]=S(t[n-1])-S(t[++r]):t[n++]=t[r];if(1==n)return S(t[0]);for(t.length=n,n=0,r=0;r<t.length;r++)">"==t[r]?t[n-1]=S(t[n-1])>S(t[++r]):"<"==t[r]?t[n-1]=S(t[n-1])<S(t[++r]):"<="==t[r]?t[n-1]=S(t[n-1])<=S(t[++r]):">="==t[r]?t[n-1]=S(t[n-1])>=S(t[++r]):t[n++]=t[r];if(1==n)return S(t[0]);for(t.length=n,n=0,r=0;r<t.length;r++)"=="==t[r]?t[n-1]=S(t[n-1])==S(t[++r]):"==="==t[r]?t[n-1]=S(t[n-1])===S(t[++r]):"!="==t[r]?t[n-1]=S(t[n-1])!=S(t[++r]):"!=="==t[r]?t[n-1]=S(t[n-1])!==S(t[++r]):t[n++]=t[r];if(1==n)return S(t[0]);for(t.length=n,n=0,r=0;r<t.length;r++)"&&"==t[r]?(t[n-1]=S(t[n-1])&&S(t[1+r]),r+=1):"||"==t[r]?(t[n-1]=S(t[n-1])||S(t[1+r]),r+=1):t[n++]=t[r];if(1==n)return S(t[0]);for(t.length=n,n=0,r=0;r<t.length;r++)"?"==t[r]?(t[n-1]=S(t[n-1])?S(t[r+1]):S(t[r+3]),r+=3):t[n++]=t[r];if(1==n)return S(t[0]);throw t.length=n,new Error("Unrecognized expression : ["+t.toString()+"]")}function O(t,e,n){for(var r=(e[0]in n?n[e[0]]:t[e[0]]),o=1;o<e.length;o++)try{r=r[e[o]]}catch(r){throw console.error({target:t,scope:n,expressArray:e,index:o}),r}return r}var j=function(t){for(var e=!0;e;){e=!1;for(var n=[],r=[],o=!1,i=0;i<t.length;i++)if("["==t[i]&&0!=i&&"]"!=t[i-1]){if(o){n.push("[");for(var a=0;a<r.length;a++)n.push(r[a])}else o=!0;r=[]}else if("]"==t[i]&&o){e=!0;var u=P(r),f=n[n.length-1][u];n[n.length-1]=s(f)?f+"@string":f,o=!1}else o?r.push(t[i]):n.push(t[i]);t=n}return t},N=function(t){for(var e=[],n=[],r=0;r<t.length;r++)"["==t[r]?n=[]:"]"==t[r]?e.push(P(n)):n.push(t[r]);return e};function I(t,e,n){var r,o=function t(e,n,r){if(n.indexOf("(")>-1){for(var o=[],i=[],a=0,u=0;u<n.length;u++)if("("==n[u])a>0&&i.push("("),a+=1;else if(")"==n[u]){if(a>1&&i.push(")"),0==(a-=1)){var f=P(t(e,i));o.push(s(f)?f+"@string":f),i=[]}}else a>0?i.push(n[u]):o.push(n[u]);n=o}return j(n)}(t,e);if("["!=o[0])r=[P(o)];else if("]"==o[o.length-1])r=N(o);else{var i=o.lastIndexOf("]"),a=N(o.slice(0,i+1)),u=o.slice(i+1);u.unshift(O(t,a,n)),r=[P(u)]}return r}
/*!
   * ğŸ”ª - è®¾ç½®æˆ–è·å–æŒ‡å®šå¯¹è±¡ä¸Šå­—ç¬¦ä¸²è¡¨è¾¾å¼å¯¹åº”çš„å€¼
   * https://github.com/hai2007/algorithm.js/blob/master/value.js
   *
   * author hai2007 < https://hai2007.gitee.io/sweethome >
   *
   * Copyright (c) 2020-present hai2007 èµ°ä¸€æ­¥ï¼Œå†èµ°ä¸€æ­¥ã€‚
   * Released under the MIT license
   */var U=function(t,e,n){arguments.length<3&&(n={});var r=A(t,e,n),o=I(t,r,n);if(o.length>1)throw new Error("Illegal expression : "+e+"\nstep='evalExpress',path="+o+",expressArray="+r);return o[0]};function R(t,e,n){var r=new e,o=!1,i=function(){o||(o=!0,setTimeout((function(){p(r.$beforeUpdate)&&r.$beforeUpdate();var t,e=a(r.__directives);try{for(e.s();!(t=e.n()).done;){var n=t.value;p(n.instance.$update)&&n.instance.$update(n.el,{type:n.type,exp:n.exp,value:n.exp?U(r,n.exp):void 0,target:r})}}catch(t){e.e(t)}finally{e.f()}p(r.$updated)&&r.$updated(),o=!1}),0))};if(p(r.$setup)){var u=r.$setup();for(var f in u)b(f),"ref"==u[f].type?w(r,u[f],f,i):"reactive"==u[f].type?x(r,u[f],f,i):p(u[f])&&(r[f]=u[f])}r.__children=[],r.__directives=[];var c=r.__template__;return function t(e,o){var i=c[e],u=null;if("tag"==i.type)if(i.name in n.__component__)r.__children.push(R(o,n.__component__[i.name],n));else{for(var f in u=document.createElement(i.name),i.attrs){var l=(f+":").split(":");l[0]in n.__directive__?function(){var t=new n.__directive__[l[0]],e=l[1],o=i.attrs[f];p(t.$inserted)&&setTimeout((function(){t.$inserted(u,{type:e,exp:o,value:o?U(r,o):void 0,target:r})})),r.__directives.push({instance:t,el:u,type:e,exp:o})}():u.setAttribute(f,i.attrs[f])}null!=r.__uniqueId__&&u.setAttribute(r.__uniqueId__,"");var s,d=a(i.childNodes);try{for(d.s();!(s=d.n()).done;){t(s.value,u)}}catch(t){d.e(t)}finally{d.f()}}else"text"==i.type&&((u=document.createTextNode("")).textContent=i.content.replace(/â†µ/g,"\n"));null!=u&&o.appendChild(u)}(0,t),p(r.$mounted)&&r.$mounted(),r}function L(t){return{value:t,type:"ref"}}var k={Module:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e={},n={},r=null,o={component:{},directive:{}};if(d(t.declarations)){var i,u=a(t.declarations);try{for(u.s();!(i=u.n()).done;){var f=i.value,c=!1;if(d(t.exports)){var l,s=a(t.exports);try{for(s.s();!(l=s.n()).done;){var p=l.value;if(p===f){c=!0;break}}}catch(t){s.e(t)}finally{s.f()}}"Component"==f.prototype.__type__?(e[f.prototype.__selector__]=f,t.bootstrap===f&&(r=f),c&&(o.component[f.prototype.__selector__]=f)):"Directive"==f.prototype.__type__&&(n[f.prototype.__selector__]=f,c&&(o.directive[f.prototype.__selector__]=f))}}catch(t){u.e(t)}finally{u.f()}}if(d(t.imports)){var h,_=a(t.imports);try{for(_.s();!(h=_.n()).done;){var g=h.value;for(var v in g.prototype.__exports__.component)e[v]=g.prototype.__exports__.component[v];for(var m in g.prototype.__exports__.directive)n[m]=g.prototype.__exports__.directive[m]}}catch(t){_.e(t)}finally{_.f()}}return function(t){t.prototype.__type__="Module",t.prototype.__component__=e,t.prototype.__directive__=n,t.prototype.__exports__=o,t.prototype.__bootstrapComponent__=r}},Component:function(t){var e=null;d(t.styles)&&(e="nefbl-scoped-"+y++,m(t.styles,e));var n=v("<nefbl-component>"+t.template+"</nefbl-component>");return function(r){r.prototype.__type__="Component",r.prototype.__selector__=t.selector,r.prototype.__template__=n,r.prototype.__uniqueId__=e}},Directive:function(t){return function(e){e.prototype.__type__="Directive",e.prototype.__selector__=t.selector}},platform:function(t){return m(t.styles||[]),{bootstrap:function(e){var n=new e,r=o(o({},n.__component__),n.__directive__);for(var i in r)r[i].prototype._module=n;return{rootComponent:R(t.el,n.__bootstrapComponent__,n),module:n}}}},mountComponent:R,evalExpress:U,getValue:function(t,e,n){arguments.length<3&&(n={});var r=A(t,e,n),o=I(t,r,n);return O(t,o,n)},setValue:function(t,e,n,r){arguments.length<3&&(r={});for(var o=A(t,e,r),i=I(t,o,r),a=t,u=0;u<i.length-1;u++)i[u]in a||(a[i[u]]=d(a)?[]:{}),a=a[i[u]];return a[i[i.length-1]]=n,t},ref:L,reactive:function(t){return l(t)?{value:t,type:"reactive"}:L(t)}};"object"===e(t)&&"object"===e(t.exports)?t.exports=k:window.Nefbl=k}()}).call(this,n(1)(t))},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e,n){"use strict";(function(t){var n=function(){if("undefined"!=typeof window)return window;if(void 0!==t)return t;throw new Error("The current environment is not known!")}();e.a=n}).call(this,n(7))},function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",(function(){return o})),n.d(e,"__assign",(function(){return i})),n.d(e,"__rest",(function(){return a})),n.d(e,"__decorate",(function(){return u})),n.d(e,"__param",(function(){return f})),n.d(e,"__metadata",(function(){return c})),n.d(e,"__awaiter",(function(){return l})),n.d(e,"__generator",(function(){return s})),n.d(e,"__createBinding",(function(){return p})),n.d(e,"__exportStar",(function(){return d})),n.d(e,"__values",(function(){return h})),n.d(e,"__read",(function(){return _})),n.d(e,"__spread",(function(){return g})),n.d(e,"__spreadArrays",(function(){return v})),n.d(e,"__spreadArray",(function(){return m})),n.d(e,"__await",(function(){return y})),n.d(e,"__asyncGenerator",(function(){return b})),n.d(e,"__asyncDelegator",(function(){return w})),n.d(e,"__asyncValues",(function(){return x})),n.d(e,"__makeTemplateObject",(function(){return E})),n.d(e,"__importStar",(function(){return A})),n.d(e,"__importDefault",(function(){return S})),n.d(e,"__classPrivateFieldGet",(function(){return P})),n.d(e,"__classPrivateFieldSet",(function(){return O}));
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var i=function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)};function a(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]])}return n}function u(t,e,n,r){var o,i=arguments.length,a=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var u=t.length-1;u>=0;u--)(o=t[u])&&(a=(i<3?o(a):i>3?o(e,n,a):o(e,n))||a);return i>3&&a&&Object.defineProperty(e,n,a),a}function f(t,e){return function(n,r){e(n,r,t)}}function c(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,r){return new(n||(n=Promise))((function(o,i){function a(t){try{f(r.next(t))}catch(t){i(t)}}function u(t){try{f(r.throw(t))}catch(t){i(t)}}function f(t){var e;t.done?o(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(a,u)}f((r=r.apply(t,e||[])).next())}))}function s(t,e){var n,r,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,r=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,u])}}}var p=Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]};function d(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||p(e,t,n)}function h(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function _(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)a.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return a}function g(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(_(arguments[e]));return t}function v(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),o=0;for(e=0;e<n;e++)for(var i=arguments[e],a=0,u=i.length;a<u;a++,o++)r[o]=i[a];return r}function m(t,e,n){if(n||2===arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))}function y(t){return this instanceof y?(this.v=t,this):new y(t)}function b(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(t,e||[]),i=[];return r={},a("next"),a("throw"),a("return"),r[Symbol.asyncIterator]=function(){return this},r;function a(t){o[t]&&(r[t]=function(e){return new Promise((function(n,r){i.push([t,e,n,r])>1||u(t,e)}))})}function u(t,e){try{(n=o[t](e)).value instanceof y?Promise.resolve(n.value.v).then(f,c):l(i[0][2],n)}catch(t){l(i[0][3],t)}var n}function f(t){u("next",t)}function c(t){u("throw",t)}function l(t,e){t(e),i.shift(),i.length&&u(i[0][0],i[0][1])}}function w(t){var e,n;return e={},r("next"),r("throw",(function(t){throw t})),r("return"),e[Symbol.iterator]=function(){return this},e;function r(r,o){e[r]=t[r]?function(e){return(n=!n)?{value:y(t[r](e)),done:"return"===r}:o?o(e):e}:o}}function x(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=h(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise((function(r,o){(function(t,e,n,r){Promise.resolve(r).then((function(e){t({value:e,done:n})}),e)})(r,o,(e=t[n](e)).done,e.value)}))}}}function E(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var T=Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e};function A(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&p(e,t,n);return T(e,t),e}function S(t){return t&&t.__esModule?t:{default:t}}function P(t,e,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof e?t!==e||!r:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(t):r?r.value:e.get(t)}function O(t,e,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof e?t!==e||!o:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(t,n):o?o.value=n:e.set(t,n),n}},function(t,e,n){t.exports=n(5)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(0),o=n(6);n(16);var i=n(8);(0,r.platform)({el:document.getElementById("root"),styles:[o.default]}).bootstrap(i.default)},function(t,e,n){"use strict";n.r(e),e.default="/*!\n * ğŸ‘ï¸ - ç»Ÿä¸€ä¸åŒæµè§ˆå™¨çš„åŸºç¡€æ ·å¼\n * https://github.com/hai2007/style.css/blob/master/normalize.css\n *\n * author hai2007 < https://hai2007.gitee.io/sweethome >\n *\n * Copyright (c) 2020-present hai2007 èµ°ä¸€æ­¥ï¼Œå†èµ°ä¸€æ­¥ã€‚\n * Released under the MIT license\n */\n\nhtml {\n    /* é˜²æ­¢iPhoneåœ¨åšå±è½¬å‘æ¨ªå±æ—¶æ”¾å¤§æ–‡å­— */\n    -ms-text-size-adjust: 100%;\n    -webkit-text-size-adjust: 100%;\n    /* ç»Ÿä¸€è¡Œé«˜ */\n    line-height: 1.15;\n}\n\nbutton,\ninput {\n    /* å…¼å®¹éƒ¨åˆ†æ‰‹æœºä¸‹borderä¸æ˜¾ç¤ºé—®é¢˜ */\n    border: 1px solid #b2b2bd;\n}\n\narticle,\nfooter,\nheader,\nnav,\nsection {\n    /* ä¿®æ­£æ—§æµè§ˆå™¨æœªå®šä¹‰çš„å—çº§å…ƒç´  */\n    display: block;\n}\n\ncanvas,\nsvg {\n    /* ä¿®æ­£æ—§æµè§ˆå™¨æœªå®šä¹‰çš„è¡Œå†…å—å…ƒç´  */\n    display: inline-block;\n}\n\n* {\n    /* ç»Ÿä¸€ä¸åŒæµè§ˆå™¨ç›’å­å°ºå¯¸è®¡ç®—æ–¹æ³• */\n    box-sizing: border-box;\n}\n\n::-ms-clear,\n::-ms-reveal {\n    /* å»æ‰IEæµè§ˆå™¨è¾“å…¥æ¡†å‰å‰å’Œçœ¼ç› */\n    display: none;\n}\n\nimg {\n    /* é’ˆå¯¹ç«ç‹æµè§ˆå™¨åœ¨imgæ ‡ç­¾æ²¡æœ‰srcæ—¶å€™çš„å·®å¼‚ä¿®å¤ */\n    display: inline-block;\n}\n\nhtml {\n    /* è®¾ç½®é»˜è®¤å­—ä½“ä¸ºç»Ÿä¸€çš„å®‰å…¨å­—ä½“ */\n    font-family: sans-serif;\n}\n\na {\n    /* é»˜è®¤å»æ‰ä¸‹åˆ’çº¿ */\n    text-decoration: none;\n}\n\nli {\n    /* å»æ‰å‰ç½®ç´¢å¼• */\n    list-style-type: none;\n}\n\nul,\nol,\nli,\np,\nh1,\nh2,\nh3,\nh4,\nh5,\nh6 {\n    /* å»æ‰ä¸å–œæ¬¢çš„é—´è· */\n    -webkit-margin-before: 0;\n    -webkit-margin-after: 0;\n    -webkit-padding-start: 0;\n    /* å»æ‰ä¸å–œæ¬¢çš„é—´è·ï¼Œé’ˆå¯¹ç«ç‹æµè§ˆå™¨ç­‰ */\n    margin-block-end: 0;\n    margin-block-start: 0;\n    padding-inline-start: 0;\n    /* ä¿®æ”¹IEå’Œå…¶å®ƒæµè§ˆå™¨ä¸ä¸€è‡´é—®é¢˜ */\n    padding: 0;\n    margin: 0;\n}\n\nbody {\n    /* å»æ‰é»˜è®¤çš„8px */\n    margin: 0;\n}\n\ntable {\n    /* è®¾ç½®é»˜è®¤è¡¨æ ¼è¾¹æ¡†åˆå¹¶ä¸ºä¸€ä¸ªå•ä¸€çš„è¾¹æ¡† */\n    border-collapse: collapse;\n}\n"},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(t){"object"==typeof window&&(n=window)}t.exports=n},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),o=n(0),i=n(9),a=function(){function t(){}return t=(0,r.__decorate)([(0,o.Module)({declarations:[i.default],imports:[],exports:[],bootstrap:i.default})],t)}();e.default=a},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),o=n(0),i=n(10),a=n(11),u=n(12),f=n(13),c=n(14),l=n(15),s=function(){function t(){}return t.prototype.$mounted=function(){var t=new u(document.getElementsByTagName("canvas")[0],{"vertex-shader":i.default,"fragment-shader":a.default,depth:!0}),e=t.Painter(),n=t.Buffer(),r=t.Camera({size:[450,250,250]});setInterval((function(){t.setUniformMatrix("u_camera",r.rotateBody(.02,-1,.2,0,1,.2,0).value()),t.setUniformMatrix("u_matrix",[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);var o=f({precision:20});t.setUniformFloat("u_color",1,.2,.2,1),o.sphere((function(t){n.write(new Float32Array(t.points)).use("a_position",3,3,0),e.drawStripTriangle(0,t.length)}),0,70,0,50),t.setUniformFloat("u_color",.6,.6,.6,1),o.sphere((function(t){n.write(new Float32Array(t.points)).use("a_position",3,3,0),e.drawStripTriangle(0,t.length)}),-70,0,0,36),o.sphere((function(t){n.write(new Float32Array(t.points)).use("a_position",3,3,0),e.drawStripTriangle(0,t.length)}),70,0,0,36),t.setUniformFloat("u_color",.2,.3,.1,.4),t.setUniformMatrix("u_matrix",t.Camera().rotateBody(.25*Math.PI,-70,0,0,-70,0,-1).value()),o.prism((function(t){"StripTriangle"==t.methods&&(n.write(new Float32Array(t.points)).use("a_position",3,3,0),e.drawStripTriangle(0,t.length))}),-70,0,0,16,60,14),t.setUniformMatrix("u_matrix",t.Camera().rotateBody(.25*Math.PI,70,0,0,70,0,1).value()),o.prism((function(t){"StripTriangle"==t.methods&&(n.write(new Float32Array(t.points)).use("a_position",3,3,0),e.drawStripTriangle(0,t.length))}),70,0,0,16,60,14)}),50)},t=(0,r.__decorate)([(0,o.Component)({selector:"app-root",template:l.default,styles:[c.default]})],t)}();e.default=s},function(t,e,n){"use strict";n.r(e),e.default="attribute vec4 a_position;\nuniform mat4 u_camera; // åº”ç”¨åˆ°æ‰€æœ‰å…ƒç´ \nuniform mat4 u_matrix; // åªå¯¹å½“å‰å…ƒç´ æœ‰æ•ˆ\nvoid main(){\n    gl_Position=u_camera * u_matrix * a_position;\n}\n"},function(t,e,n){"use strict";n.r(e),e.default="precision mediump float;\nuniform vec4 u_color;\nvoid main(){\n    gl_FragColor=u_color;\n}\n"},function(t,e,n){"use strict";(function(t){
/*!
* image3D - ğŸŠ ä½¿ç”¨webGLç»˜åˆ¶ä¸‰ç»´å›¾ç‰‡ã€‚Drawing three-dimensional images using webGL.
* git+https://github.com/hai2007/image3D.git
*
* author ä½ å¥½2007
*
* version 3.2.4
*
* build Thu Apr 11 2019
*
* Copyright hai2007 < https://hai2007.gitee.io/sweethome/ >
* Released under the MIT license
*
* Date:Fri Oct 22 2021 12:53:30 GMT+0800 (ä¸­å›½æ ‡å‡†æ—¶é—´)
*/
var e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(){var n=function(t,e,n){var r=t.createShader(e);if(null==r)throw new Error("Unable to create shader!");if(t.shaderSource(r,n),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS))throw new Error("Failed to compile shader:"+t.getShaderInfoLog(r));return r};function r(t,e){var r=function(t,e){var n=["webgl","experimental-webgl","webkit-3d","moz-webgl"],r=null,o=void 0;for(o=0;o<n.length;o++){try{r=t.getContext(n[o],e)}catch(t){}if(r)break}if(!r)throw new Error("Non canvas or browser does not support webgl.");return r}(t,e),o={_gl_:r,painter:function(){return function(t){var e={byte:t.UNSIGNED_BYTE,short:t.UNSIGNED_SHORT};return{openDeep:function(){return t.enable(t.DEPTH_TEST),this},points:function(n,r,o){return o?t.drawElements(t.POINTS,r,e[o],n):t.drawArrays(t.POINTS,n,r),this},lines:function(n,r,o){return o?t.drawElements(t.LINES,r,e[o],n):t.drawArrays(t.LINES,n,r),this},stripLines:function(n,r,o){return o?t.drawElements(t.LINE_STRIP,r,e[o],n):t.drawArrays(t.LINE_STRIP,n,r),this},loopLines:function(n,r,o){return o?t.drawElements(t.LINE_LOOP,r,e[o],n):t.drawArrays(t.LINE_LOOP,n,r),this},triangles:function(n,r,o){return o?t.drawElements(t.TRIANGLES,r,e[o],n):t.drawArrays(t.TRIANGLES,n,r),this},stripTriangles:function(n,r,o){return o?t.drawElements(t.TRIANGLE_STRIP,r,e[o],n):t.drawArrays(t.TRIANGLE_STRIP,n,r),this},fanTriangles:function(n,r,o){return o?t.drawElements(t.TRIANGLE_FAN,r,e[o],n):t.drawArrays(t.TRIANGLE_FAN,n,r),this}}}(r)},shader:function(t,e){return r.program=function(t,e,r){var o=n(t,t.VERTEX_SHADER,e),i=n(t,t.FRAGMENT_SHADER,r),a=t.createProgram();if(t.attachShader(a,o),t.attachShader(a,i),t.linkProgram(a),!t.getProgramParameter(a,t.LINK_STATUS))throw new Error("Failed to link program: "+t.getProgramInfoLog(a));return t.useProgram(a),a}(r,t,e),o},buffer:function(t){!function(t,e){var n=t.createBuffer(),r=e?t.ELEMENT_ARRAY_BUFFER:t.ARRAY_BUFFER;t.bindBuffer(r,n)}(r,t);var e=void 0,n={write:function(o,i){return i=i||r.STATIC_DRAW,function(t,e,n,r){var o=r?t.ELEMENT_ARRAY_BUFFER:t.ARRAY_BUFFER;t.bufferData(o,e,n)}(r,o,i,t),e=o,n},use:function(t,o,i,a,u,f){var c=e.BYTES_PER_ELEMENT;return"string"==typeof t&&(t=r.getAttribLocation(r.program,t)),i=i||0,a=a||0,u=u||r.FLOAT,function(t,e,n,r,o,i,a){t.vertexAttribPointer(e,n,r,a||!1,o||0,i||0),t.enableVertexAttribArray(e)}(r,t,o,u,i*c,a*c,f),n}};return n},texture:function(t,e){var n={"2d":r.TEXTURE_2D,cube:r.TEXTURE_CUBE_MAP}[t],o=function(t,e,n,r){var o=t.createTexture();return"2d"==r&&(n=n||0,t.activeTexture(t["TEXTURE"+n])),t.bindTexture(e,o),o}(r,n,e,t);r.texParameteri(n,r.TEXTURE_MIN_FILTER,r.NEAREST),r.texParameteri(n,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(n,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE);var i={useImage:function(t,e,o,a){return function(t,e,n,r,o,i){r={rgb:t.RGB,rgba:t.RGBA,alpha:t.ALPHA}[r]||t.RGBA,t.texImage2D(e,n||0,r,r,{}[o]||t.UNSIGNED_BYTE,i)}(r,n,e,o,a,t),i},useCube:function(t,e,i,a,u,f){!function(t,e,n,r,o,i,a,u,f){r={rgb:t.RGB,rgba:t.RGBA,alpha:t.ALPHA}[r]||t.RGBA,n=n||0,o={}[o]||t.UNSIGNED_BYTE;var c=[t.TEXTURE_CUBE_MAP_POSITIVE_X,t.TEXTURE_CUBE_MAP_NEGATIVE_X,t.TEXTURE_CUBE_MAP_POSITIVE_Y,t.TEXTURE_CUBE_MAP_NEGATIVE_Y,t.TEXTURE_CUBE_MAP_POSITIVE_Z,t.TEXTURE_CUBE_MAP_NEGATIVE_Z],l=void 0,s=void 0;for(l=0;l<c.length;l++)s=c[l],t.texImage2D(s,n,r,a,u,0,r,o,null),t.bindTexture(e,f),t.texImage2D(s,n,r,r,o,i[l]);t.generateMipmap(e)}(r,n,a,u,f,t,e,i,o)}};return i}},i=function(t){return{setAttribute1f:function(e,n){var r=t.getAttribLocation(t.program,e);t.vertexAttrib1f(r,n)},setAttribute2f:function(e,n,r){var o=t.getAttribLocation(t.program,e);t.vertexAttrib2f(o,n,r)},setAttribute3f:function(e,n,r,o){var i=t.getAttribLocation(t.program,e);t.vertexAttrib3f(i,n,r,o)},setAttribute4f:function(e,n,r,o,i){var a=t.getAttribLocation(t.program,e);t.vertexAttrib4f(a,n,r,o,i)},setAttribute1i:function(e,n){var r=t.getAttribLocation(t.program,e);t.vertexAttrib1i(r,n)},setAttribute2i:function(e,n,r){var o=t.getAttribLocation(t.program,e);t.vertexAttrib2i(o,n,r)},setAttribute3i:function(e,n,r,o){var i=t.getAttribLocation(t.program,e);t.vertexAttrib3i(i,n,r,o)},setAttribute4i:function(e,n,r,o,i){var a=t.getAttribLocation(t.program,e);t.vertexAttrib4i(a,n,r,o,i)},setUniform1f:function(e,n){var r=t.getUniformLocation(t.program,e);t.uniform1f(r,n)},setUniform2f:function(e,n,r){var o=t.getUniformLocation(t.program,e);t.uniform2f(o,n,r)},setUniform3f:function(e,n,r,o){var i=t.getUniformLocation(t.program,e);t.uniform3f(i,n,r,o)},setUniform4f:function(e,n,r,o,i){var a=t.getUniformLocation(t.program,e);t.uniform4f(a,n,r,o,i)},setUniform1i:function(e,n){var r=t.getUniformLocation(t.program,e);t.uniform1i(r,n)},setUniform2i:function(e,n,r){var o=t.getUniformLocation(t.program,e);t.uniform2i(o,n,r)},setUniform3i:function(e,n,r,o){var i=t.getUniformLocation(t.program,e);t.uniform3i(i,n,r,o)},setUniform4i:function(e,n,r,o,i){var a=t.getUniformLocation(t.program,e);t.uniform4i(a,n,r,o,i)},setUniformMatrix2fv:function(e,n){var r=t.getUniformLocation(t.program,e);t.uniformMatrix2fv(r,!1,n)},setUniformMatrix3fv:function(e,n){var r=t.getUniformLocation(t.program,e);t.uniformMatrix3fv(r,!1,n)},setUniformMatrix4fv:function(e,n){var r=t.getUniformLocation(t.program,e);t.uniformMatrix4fv(r,!1,n)}}}(r);for(var a in i)o[a]=i[a];return r.viewport(0,0,r.canvas.width,r.canvas.height),o}var o=function(t,e){for(var n=[],r=0;r<4;r++)for(var o=0;o<e.length/4;o++)n[4*o+r]=t[r]*e[4*o]+t[r+4]*e[4*o+1]+t[r+8]*e[4*o+2]+t[r+12]*e[4*o+3];return n};function i(t){var e=t||[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],n={move:function(t,r,i,a){return e=o(function(t,e,n,r){r=r||0;var o=Math.sqrt(e*e+n*n+r*r);return[1,0,0,0,0,1,0,0,0,0,1,0,e*t/o,n*t/o,r*t/o,1]}(t,r,i,a),e),n},rotate:function(t,r,i,a,u,f,c){var l=function(t,e,n,r,o,i){if("number"==typeof t&&"number"==typeof e){if("number"!=typeof n?(n=0,r=t,o=e,i=1):"number"==typeof r&&"number"==typeof o&&"number"==typeof i||(r=t,o=e,i=n,t=0,e=0,n=0),t==r&&e==o&&n==i)throw new Error("It's not a legitimate ray!");var a=Math.sqrt((r-t)*(r-t)+(o-e)*(o-e)),u=0!=a?(o-e)/a:1,f=0!=a?(r-t)/a:0,c=(r-t)*f+(o-e)*u,l=i-n,s=Math.sqrt(c*c+l*l),p=0!=s?l/s:1,d=0!=s?c/s:0;return[[u,p*f,f*d,0,-f,u*p,u*d,0,0,-d,p,0,e*f-t*u,n*d-t*f*p-e*u*p,-t*f*d-e*u*d-n*p,1],[u,-f,0,0,p*f,p*u,-d,0,f*d,u*d,p,0,t,e,n,1]]}throw new Error("a1 and b1 is required!")}(r,i,a,u,f,c);return e=o(o(o(l[1],function(t){var e=Math.sin(t),n=Math.cos(t);return[n,e,0,0,-e,n,0,0,0,0,1,0,0,0,0,1]}(t)),l[0]),e),n},scale:function(t,r,i,a,u,f){return e=o(function(t,e,n,r,o,i){return[t,0,0,0,0,e,0,0,0,0,n,0,(r=r||0)-r*t,(o=o||0)-o*e,(i=i||0)-i*n,1]}(t,r,i,a,u,f),e),n},multiply:function(t,r){return e=r?o(e,t):o(t,e),n},use:function(t,n,r,i){var a=o(e,[t,n,r=r||0,i=i||1]);return a[0]=+a[0].toFixed(7),a[1]=+a[1].toFixed(7),a[2]=+a[2].toFixed(7),a[3]=+a[3].toFixed(7),a},value:function(){return e}};return n}var a=Object.prototype.toString;var u=function(t){return"number"==typeof t||null!==t&&"object"===(void 0===t?"undefined":e(t))&&"[object Number]"===function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a.call(t)}(t)},f=function(t){return Array.isArray(t)};function c(t,e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new function(){var e=this;u(t.size)?t.size=[t.size,t.size,t.size]:f(t.size)||(t.size=[1,1,1]);var n=i();n.multiply([1/t.size[0],0,0,0,0,1/t.size[1],0,0,0,0,1/t.size[2],0,0,0,0,1]),this.rotateEye=function(t,r,o,i,a,u,f){return n.rotate(-t,r,o,i,a,u,f),e},this.moveEye=function(t,r,o,i){return n.move(-t,r,o,i),e},this.rotateBody=function(t,r,o,i,a,u,f){return n.rotate(t,r,o,i,a,u,f),e},this.moveBody=function(t,r,o,i){return n.move(t,r,o,i),e},this.scaleBody=function(t,r,o,i,a,u){return n.scale(t,r,o,i,a,u),e},this.value=function(){return n.value()}}}}var l={vs:"\n    attribute vec4 a_position;\n    attribute vec4 a_color;\n    attribute float a_size;\n    varying vec4 v_color;\n    void main(){\n        gl_Position=a_position;\n        gl_PointSize=a_size;\n        v_color=a_color;\n    }\n    ",fs:"\n    precision mediump float;\n    varying vec4 v_color;\n    void main(){\n        gl_FragColor=v_color;\n    }\n    "},s={vs:"\n    attribute vec4 a_position;\n    attribute vec4 a_color;\n    attribute float a_size;\n    varying vec4 v_color;\n    uniform mat4 u_matrix;\n    void main(){\n        gl_Position=u_matrix * a_position;\n        gl_PointSize=a_size;\n        v_color=a_color;\n    }\n    ",fs:"\n    precision mediump float;\n    varying vec4 v_color;\n    void main(){\n        gl_FragColor=v_color;\n    }\n    "};var p=function t(e,n){var o=function(t,e){for(var n in e)try{t[n]=e[n]}catch(t){throw new Error("Illegal property key : "+n)}return t}({depth:!1},n||{}),i=r(e),a=o["vertex-shader"],u=o["fragment-shader"];if(!a||!u){var f=function(t){return{type_default:l,type_camera:s}["type_"+t]}(o.shader||"default");a=f.vs,u=f.fs}i.shader(a,u),(t.fn=t.prototype).Buffer=function(t,e){return function(e){return new function(){var n=this,r=t.buffer(e);this.write=function(t){return r.write(t),n},e||(this.use=function(t,e,o,i){return r.use(t,e,o,i),n})}}}(i),t.fn.Camera=c(),t.fn.Painter=function(t,e){var n=t.painter();return e.depth&&n.openDeep(),function(){return new function(){!function(t,e){e.drawPoint=function(n,r){return t.points(n,r),e},e.drawLine=function(n,r){return t.lines(n,r),e},e.drawStripLine=function(n,r){return t.stripLines(n,r),e},e.drawLoopLine=function(n,r){return t.loopLines(n,r),e},e.drawTriangle=function(n,r){return t.triangles(n,r),e},e.drawStripTriangle=function(n,r){return t.stripTriangles(n,r),e},e.drawFanTriangle=function(n,r){return t.fanTriangles(n,r),e}}(n,this),function(t,e){e.elemPoint=function(n,r,o){return o=o||"byte",t.points(n,r,o),e},e.elemLine=function(n,r,o){return o=o||"byte",t.lines(n,r,o),e},e.elemStripLine=function(n,r,o){return o=o||"byte",t.stripLines(n,r,o),e},e.elemLoopLine=function(n,r,o){return o=o||"byte",t.loopLines(n,r,o),e},e.elemTriangle=function(n,r,o){return o=o||"byte",t.triangles(n,r,o),e},e.elemStripTriangle=function(n,r,o){return o=o||"byte",t.stripTriangles(n,r,o),e},e.elemFanTriangle=function(n,r,o){return o=o||"byte",t.fanTriangles(n,r,o),e}}(n,this)}}}(i,o),t.fn.Texture2D=function(t,e){return function(e){return new function(){var n=this,r=t.texture("2d",e);this.write=function(t){return r.useImage(t),n}}}}(i),t.fn.TextureCube=function(t,e){return function(e,n){return new function(){var r=this,o=t.texture("cube");this.write=function(t,i,a,u,f,c){return o.useCube([t,i,a,u,f,c],e,n),r}}}}(i),t.fn.setAttributeFloat=function(t,e,n,r,o){return i["setAttribute"+(arguments.length-1)+"f"](t,e,n,r,o),this},t.fn.setAttributeInt=function(t,e,n,r,o){return i["setAttribute"+(arguments.length-1)+"i"](t,e,n,r,o),this},t.fn.setUniformFloat=function(t,e,n,r,o){return i["setUniform"+(arguments.length-1)+"f"](t,e,n,r,o),this},t.fn.setUniformInt=function(t,e,n,r,o){return i["setUniform"+(arguments.length-1)+"i"](t,e,n,r,o),this},t.fn.setUniformMatrix=function(t,e){var n={4:2,9:3,16:4}[e.length];return i["setUniformMatrix"+n+"fv"](t,e),this}};if(p.core=r,"object"===e(t)&&"object"===e(t.exports))t.exports=p;else{var d=window.image3D;p.noConflict=function(){return window.image3D===p&&(window.image3D=d),p},window.image3D=p}}()}).call(this,n(1)(t))},function(t,e,n){(function(t){
/*!
 *  Three-Geometry - ä¸ºimage3D.jsè®¾è®¡å¼€å‘çš„ä¸‰ç»´å‡ ä½•åæ ‡è¿ç®—åº“
 * git+https://github.com/clunch-contrib/Three-Geometry.git
 *
 * author ä½ å¥½2007 < https://hai2007.gitee.io/sweethome >
 *
 * version 1.1.0
 *
 * Copyright (c) 2021-present hai2007 èµ°ä¸€æ­¥ï¼Œå†èµ°ä¸€æ­¥ã€‚
 * Released under the MIT license
 *
 * Date:Sun Oct 24 2021 10:26:59 GMT+0800 (GMT+08:00)
 */
!function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var n=Object.prototype.toString;var r=function(t){return"number"==typeof t||null!==t&&"object"===e(t)&&"[object Number]"===function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":n.call(t)}(t)},o=function(t,e){return Math.ceil(2*Math.PI/Math.asin(t/e)*2)};function i(t,e,n,r,o){var i=Math.cos(n),a=Math.sin(n);return[(r-t)*i-(o-e)*a+t,(r-t)*a+(o-e)*i+e]}function a(t,e,n,r,o){for(var a=[t,e,n,t+r,e,n],u=2*Math.PI/o,f=0;f<o;f++){var c=i(t,n,u*(f+1),t+r,n);a.push(c[0],e,c[1])}return a}function u(t,e,n,r,o,a){for(var u=[t+r,e,n,t+r,e+o,n],f=2*Math.PI/a,c=0;c<a;c++){var l=i(t,n,f*(c+1),t+r,n);u.push(l[0],e,l[1],l[0],e+o,l[1])}return u}function f(t,e,n,r,o,a){for(var u,f=[t,e+r,n],c=2*Math.PI/o,l=1;l<.5*o;l++){u=i(t,e,c*l,t,e+r);var s=i(t,n,c*a,u[0],n);f.push(s[0],u[1],s[1]);var p=i(t,n,c*(a+1),u[0],n);f.push(p[0],u[1],p[1])}return f.push(t,e-r,n),f}var c=function(t){if(!r(t.precision)||t<=0)throw new Error("options.precision should be an integer greater than zero");var e={cylinder:function(n,r,i,a,u,f){var c=o(t.precision,u);return e.prism(n,r,i,a,u,f,c),e},prism:function(t,n,r,o,i,f,c){return t({points:a(n,r,o,i,c),length:c+2,methods:"FanTriangle"}),t({points:a(n,r+f,o,i,c),length:c+2,methods:"FanTriangle"}),t({points:u(n,r,o,i,f,c),length:2*c+2,methods:"StripTriangle"}),e},sphere:function(n,r,i,a,u){for(var c=o(t.precision,u),l=0;l<c;l++)n({points:f(r,i,a,u,c,l),length:c,methods:"StripTriangle"});return e}};return e};"object"===e(t)&&"object"===e(t.exports)?t.exports=c:window.ThreeGeometry=c}()}).call(this,n(1)(t))},function(t,e,n){"use strict";n.r(e),e.default="\n div{\n\noutline: 1px solid red;\n\ndisplay: inline-block;\n\nmargin: 10px;\n\nposition: relative;\n\n}\n\n div>a{\n\nuser-select: none;\n\nposition: fixed;\n\ntransform: rotate(45deg);\n\nline-height: 1.6em;\n\ntransform-origin: 150px 23px;\n\ntext-align: center;\n\nfont-family: sans-serif;\n\ndisplay: inline-block;\n\nbottom: 53px;\n\nleft: -91px;\n\nwidth: 300px;\n\nbackground-color: #03a9f4;\n\noutline: 4px solid #03a9f4;\n\nborder: 2px dashed #ffffff;\n\ncolor: #ffffff;\n\n}\n\n div>h2{\n\nposition: absolute;\n\nbackground-color: #cec8c8;\n\ncolor: white;\n\npadding: 5px 10px;\n\nfont-size: 14px;\n\nright: 20px;\n\ntop: 20px;\n\nuser-select: none;\n\nbox-shadow: -4px 4px 5px 1px #2b2828;\n\n}\n\n div>h2>a{\n\ntext-decoration: underline;\n\ncolor: rgb(65, 121, 243);\n\npadding: 0 10px;\n\n}\n"},function(t,e,n){"use strict";n.r(e),e.default='<div>\n    <canvas width="900" height="500">éå¸¸æŠ±æ­‰ï¼Œæ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒcanvas!</canvas>\n    <a href="https://github.com/clunch-contrib/H2O-laboratory" target="_blank">Fork Me on Github</a>\n    <h2>\n        æ°´åˆ†å­å¼H2Oå®éªŒç”¨ä¾‹ï¼ŒåŸºäº\n        <a href="https://hai2007.gitee.io/image3d/" target="_blank" rel="noopener noreferrer">image3D</a>\n        å¼€å‘ï¼Œç”¨äºæ¢ç´¢\n        <a href="https://github.com/clunch-contrib/Three-Geometry" target="_blank"\n            rel="noopener noreferrer">ä¸‰ç»´å‡ ä½•åæ ‡è¿ç®—åº“</a>\n        çš„æœ€ä½³å®è·µã€‚\n    </h2>\n\n</div>\n'},function(t,e,n){"use strict";n.r(e);var r=n(2),o=function(t){var e=typeof t;return null!=t&&("object"===e||"function"===e)},i=Object.prototype.toString,a=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":i.call(t)},u=o,f=function(t){if(!o(t))return!1;var e=a(t);return"[object Function]"===e||"[object AsyncFunction]"===e||"[object GeneratorFunction]"===e||"[object Proxy]"===e},c=function(t){return Array.isArray(t)};
/*!
 * âœ”ï¸ - Promise
 * https://github.com/hai2007/polyfill.js/blob/master/Promise.js
 *
 * author hai2007 < https://hai2007.gitee.io/sweethome >
 *
 * Copyright (c) 2021-present hai2007 èµ°ä¸€æ­¥ï¼Œå†èµ°ä¸€æ­¥ã€‚
 * Released under the MIT license
 */
function l(t){if(!(this instanceof l))throw new TypeError("undefined is not a promise");if(!f(t))throw new TypeError("Promise resolver "+t+" is not a function");this.__value=void 0,this.__hocks=[],this.__state="pending",function(t,e){var n=!1;try{t((function(t){n||(n=!0,e.$$changeState(t,"fulfilled"))}),(function(t){n||(n=!0,e.$$changeState(t,"rejected"))}))}catch(t){if(n)return;n=!0,e.$$changeState(t,"rejected")}}(t,this)}l.prototype.$$changeState=function(t,e){this.__state=e,this.__value=t,this.$$triggerEvent()},l.prototype.$$triggerEvent=function(){for(var t=null,e="fulfilled"==this.__state?0:1;this.__hocks.length>0;){if(f(this.__hocks[0][e])){t=this.__hocks.shift();break}f(this.__hocks[0][2])&&this.__hocks[0][2](),this.__hocks.shift()}if(null!==t){var n=t[e](this.__value);if(u(n)&&n.constructor===this.constructor){for(var r=0;r<this.__hocks.length;r++)n.__hocks.push(this.__hocks[r]),"pending"!=n.__state&&n.$$triggerEvent();this.then=function(t,e){n.then(t,e)},this.catch=function(t){n.catch(t)},this.finally=function(t){n.finally(t)}}else this.__value=n,this.__state="fulfilled",this.$$triggerEvent()}},l.prototype.then=function(t,e){return this.__hocks.push([t,e,void 0]),"pending"!=this.__state&&this.$$triggerEvent(),this},l.prototype.catch=function(t){return this.__hocks.push([void 0,t,void 0]),"pending"!=this.__state&&this.$$triggerEvent(),this},l.prototype.finally=function(t){return this.__hocks.push([void 0,void 0,t]),"pending"!=this.__state&&this.$$triggerEvent(),this},l.resolve=function(t){return u(t)&&t.constructor===l?t:new l((function(e){e(t)}))},l.reject=function(t){return new l((function(e,n){n(t)}))},l.all=function(t){return new l((function(e,n){if(!c(t))return n(new TypeError("undefined is not iterable (cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(t),o=0;0==r.length&&e([]);for(var i=function(t,a){"pending"!==a.__state?(o+=1,"rejected"==a.__state?n(a.__value):(r[t]=a.__value,o==r.length&&e(r))):setTimeout((function(){i(t,a)}))},a=0;a<r.length;a++)i(a,r[a])}))},l.allSettled=function(t){return new l((function(e,n){if(!c(t))return n(new TypeError("undefined is not iterable (cannot read property Symbol(Symbol.iterator))"));var r=Array.prototype.slice.call(t),o=0;0==r.length&&e([]);for(var i=function(t,n){"pending"!==n.__state?(o+=1,r[t]={status:n.__state},"fulfilled"==n.__state?r[t].value=n.__value:r[t].reason=n.__value,o==r.length&&e(r)):setTimeout((function(){i(t,n)}))},a=0;a<r.length;a++)i(a,r[a])}))},l.any=function(t){return new l((function(e,n){if(!c(t))return n(new TypeError("undefined is not iterable (cannot read property Symbol(Symbol.iterator))"));var r=0;0==t.length&&e(void 0);for(var o=function(i,a){if("pending"!==a.__state)if(r+=1,"rejected"==a.__state){if(r==t.length)return n(new Error("All promises were rejected"))}else e(a.__value);else setTimeout((function(){o(i,a)}))},i=0;i<t.length;i++)o(i,t[i])}))},l.race=function(t){return new l((function(e,n){if(!c(t))return n(new TypeError("undefined is not iterable (cannot read property Symbol(Symbol.iterator))"));0==t.length&&e(void 0);for(var r=function(t,o){"pending"!==o.__state?"rejected"==o.__state?n(o.__value):e(o.__value):setTimeout((function(){r(t,o)}))},o=0;o<t.length;o++)r(o,t[o])}))},"Promise"in r.a||(r.a.Promise=l)}]);